<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Book Your Ride | Ride W Me Cabo</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles/main.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>

<body class="services-body">

  <!-- HEADER -->
  <header class="new-header inner-header">
    <div class="header-overlay"></div>

    <div class="header-top">
      <div class="logo-text">RIDE W ME</div>
      <div class="menu-icon" onclick="openMenu()">☰</div>
    </div>

    <img src="Images/expedition.png" class="header-expedition" alt="Expedition">

    <div class="header-content">
      <h1>Book Your Ride</h1>
      <p class="subline">Fast • Safe • Luxury Transportation in Los Cabos</p>
    </div>
  </header>

  <!-- SIDE MENU -->
  <div class="side-menu" id="sideMenu">
    <div class="close-btn" onclick="closeMenu()">✕</div>
    <div class="side-menu-links">
      <a href="index.html">Home</a>
      <a href="services.html">Services</a>
      <a href="booking.html">Book Now</a>
      <a href="contact.html">Contact Us</a>
    </div>
  </div>

  <div class="menu-backdrop" id="menuBackdrop" onclick="closeMenu()"></div>

  <!-- BOOKING -->
  <div class="booking-wrapper">
    <div class="booking-card">

      <h2>Book Your Ride</h2>
      <p class="booking-subtitle">Choose service, fill details, and confirm instantly.</p>

      <!-- SERVICE SUMMARY -->
      <div class="service-summary">
        <div class="service-summary-title">Selected service</div>
        <div id="selectedServiceName">None selected</div>
        <div id="selectedServicePrice">—</div>
      </div>

      <form id="bookingForm" class="booking-form">

        <!-- NAME -->
        <label>Full Name</label>
        <input type="text" id="name" required placeholder="Your name">

        <!-- PHONE -->
        <label>Phone / WhatsApp</label>
        <input type="tel" id="phone" required placeholder="+52 624...">

        <!-- EMAIL -->
        <label>Email</label>
        <input type="email" id="email" required placeholder="your@email">

        <!-- SERVICE TYPE -->
        <label>Service Type</label>
        <select id="serviceType" required>
          <option value="">Select service</option>
          <option value="Airport Transfer">Airport Transfer</option>
          <option value="One Way">One Way</option>
          <option value="Round Trip">Round Trip</option>
          <option value="Open Service (per hour)">Open Service (per hour)</option>
        </select>

        <!-- PASSENGERS -->
        <label>Passengers</label>
        <select id="passengers" required>
          <option value="">Select</option>
          <option value="1-2">1–2</option>
          <option value="3-4">3–4</option>
          <option value="5-6">5–6</option>
        </select>

        <!-- PICKUP AUTOCOMPLETE -->
        <label>Pickup Location</label>
        <div class="autocomplete-box">
          <input type="text" id="pickupPreset" required autocomplete="off" placeholder="Start typing...">
          <div id="pickupDropdown" class="autocomplete-dropdown"></div>
        </div>

        <!-- DESTINATION AUTOCOMPLETE -->
        <label>Destination</label>
        <div class="autocomplete-box">
          <input type="text" id="destinationPreset" required autocomplete="off" placeholder="Start typing...">
          <div id="destinationDropdown" class="autocomplete-dropdown"></div>
        </div>

        <!-- DATE + TIME -->
        <div class="booking-grid">
          <div>
            <label>Date</label>
            <input type="text" id="date" placeholder="Select date" readonly required>
          </div>
          <div>
            <label>Time</label>
            <input type="time" id="time" required>
          </div>
        </div>

        <!-- RETURN TRIP -->
        <div id="returnDateWrapper" style="display:none;">
          <label>Return Date</label>
          <input type="text" id="returnDate" placeholder="Select return date">
        </div>

        <div id="returnTimeWrapper" style="display:none;">
          <label>Return Time</label>
          <input type="time" id="returnTime">
        </div>

        <!-- OPEN SERVICE -->
        <div id="hoursWrapper" style="display:none;">
          <label>Service Hours</label>
          <select id="hours">
            <option value="">Select hours</option>
            <option value="2">2 hours</option>
            <option value="3">3 hours</option>
            <option value="4">4 hours</option>
            <option value="5">5 hours</option>
            <option value="6+">6+ hours</option>
          </select>
        </div>

        <!-- NOTES -->
        <label>Notes (optional)</label>
        <textarea id="notes" placeholder="Flight number, special requests, etc."></textarea>

        <!-- SUBMIT -->
        <button type="submit">Confirm Reservation</button>

        <!-- UNAVAILABLE DATES -->
        <div class="unavailable-box">
          <strong>Unavailable / booked dates:</strong>
          <div id="unavailableList" class="unavailable-list">Loading…</div>
        </div>

      </form>

    </div>
  </div>

  <footer class="site-footer">
    © 2025 Ride W Me Cabo — Luxury Transportation in Los Cabos
  </footer>

  <!-- JS LIBRARIES -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

  <!-- BOOKING LOGIC -->
  <script src="scripts/booking.js"></script>

  <!-- MENU CONTROL -->
  <script>
    function openMenu() {
      document.getElementById("sideMenu").classList.add("open");
      document.getElementById("menuBackdrop").classList.add("show");
    }

    function closeMenu() {
      document.getElementById("sideMenu").classList.remove("open");
      document.getElementById("menuBackdrop").classList.remove("show");
    }
  </script>

</body>
</html>

